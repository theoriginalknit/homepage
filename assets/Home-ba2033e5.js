import{j as N,a as e,L as T,R as c,r as p,F as U}from"./index-442c01a5.js";import{W as $}from"./index-b1556e3f.js";import{B as A,D as B}from"./requestApi-fdcbf8a8.js";import{C as y,R as g,a as v}from"./Row-cee6774a.js";import{F as P}from"./Form-605e6954.js";const W=({data:n})=>{var r;return N("div",{className:"wool_card",children:[e("div",{className:"wool_card_thum",children:e(T,{to:`/product/${n._id}/${n.slug}`,state:n,children:e("img",{src:`${A.ENDPOINT_URL}api/`+n.image,className:"img-fluid"})})}),N("div",{className:"wool_card_desc",children:[e("h1",{children:n==null?void 0:n.name}),e("h6",{children:(r=n==null?void 0:n.product_category_id)==null?void 0:r.category})]})]})},G=c.createContext({}),F=!0;function I({baseColor:n,highlightColor:r,width:s,height:i,borderRadius:d,circle:h,direction:f,duration:m,enableAnimation:l=F}){const t={};return f==="rtl"&&(t["--animation-direction"]="reverse"),typeof m=="number"&&(t["--animation-duration"]=`${m}s`),l||(t["--pseudo-element-display"]="none"),(typeof s=="string"||typeof s=="number")&&(t.width=s),(typeof i=="string"||typeof i=="number")&&(t.height=i),(typeof d=="string"||typeof d=="number")&&(t.borderRadius=d),h&&(t.borderRadius="50%"),typeof n<"u"&&(t["--base-color"]=n),typeof r<"u"&&(t["--highlight-color"]=r),t}function S({count:n=1,wrapper:r,className:s,containerClassName:i,containerTestId:d,circle:h=!1,style:f,...m}){var l,t,u;const b=c.useContext(G),k={...m};for(const[o,a]of Object.entries(m))typeof a>"u"&&delete k[o];const w={...b,...k,circle:h},O={...f,...I(w)};let L="react-loading-skeleton";s&&(L+=` ${s}`);const j=(l=w.inline)!==null&&l!==void 0?l:!1,_=[],C=Math.ceil(n);for(let o=0;o<C;o++){let a=O;if(C>n&&o===C-1){const E=(t=a.width)!==null&&t!==void 0?t:"100%",x=n%1,D=typeof E=="number"?E*x:`calc(${E} * ${x})`;a={...a,width:D}}const R=c.createElement("span",{className:L,style:a,key:o},"â€Œ");j?_.push(R):_.push(c.createElement(c.Fragment,{key:o},R,c.createElement("br",null)))}return c.createElement("span",{className:i,"data-testid":d,"aria-live":"polite","aria-busy":(u=w.enableAnimation)!==null&&u!==void 0?u:F},r?_.map((o,a)=>c.createElement(r,{key:a},o)):_)}const H=n=>N($,{children:[e("div",{className:"banner",children:e(y,{children:e(g,{children:e(v,{lg:"12",children:e(S,{style:{height:400,borderRadius:10,marginBottom:50}})})})})}),e("div",{className:"wool_list",children:e(y,{children:e(g,{children:[...Array(5)].map((r,s)=>N(v,{lg:"4",className:"mb-3",children:[e(S,{style:{height:200,borderRadius:20,marginBottom:20}}),e(S,{count:2})]},s))})})})]});function Q(){const[n,r]=p.useState([]),[s,i]=p.useState(!1),[d,h]=p.useState(""),[f,m]=p.useState("");p.useEffect(()=>{(async()=>{i(!0);try{const u=await B.productAll(),b=await B.ProductsBanner();h(b.data.data),r(u.data.data),i(!1)}catch(u){console.log(u)}})()},[]);const l=n.filter(t=>t.name.toLowerCase().includes(f.toLowerCase()));return e($,{children:s?e(H,{}):N(U,{children:[e("div",{className:"banner",children:e(y,{children:e(g,{children:e(v,{lg:"12",children:e("img",{src:A.ENDPOINT_URL+"api/"+d,className:"img-fluid"})})})})}),e("div",{className:"search_form",children:e(y,{children:e(g,{children:e(v,{lg:"12",children:e(P,{children:e(P.Control,{name:"find",placeholder:"Find your Knitty Buddy",value:f,onChange:t=>m(t.target.value)})})})})})}),e("div",{className:"wool_list",children:e(y,{children:e(g,{children:l&&l.map(t=>e(v,{lg:"4",children:e(W,{data:t})},t._id))})})})]})})}export{Q as default};
