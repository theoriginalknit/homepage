import{j as b,a as e,L as D,R as c,r as p,F as T}from"./index-0ae2e782.js";import{W as A}from"./index-0aeb1483.js";import{B as W,D as R}from"./requestApi-ad38e62d.js";import{C as y,R as g,a as v}from"./Row-4f8050ff.js";import{F as P}from"./Form-d13df6fd.js";const G=({data:n})=>{var r;return b("div",{className:"wool_card",children:[e("div",{className:"wool_card_thum",children:e(D,{to:`/product/${n._id}/${n.slug}`,state:n,children:e("img",{src:n.image,className:"img-fluid"})})}),b("div",{className:"wool_card_desc",children:[e("h1",{children:n==null?void 0:n.name}),e("h6",{children:(r=n==null?void 0:n.product_category_id)==null?void 0:r.category})]})]})},U=c.createContext({}),F=!0;function H({baseColor:n,highlightColor:r,width:s,height:l,borderRadius:d,circle:h,direction:f,duration:m,enableAnimation:i=F}){const t={};return f==="rtl"&&(t["--animation-direction"]="reverse"),typeof m=="number"&&(t["--animation-duration"]=`${m}s`),i||(t["--pseudo-element-display"]="none"),(typeof s=="string"||typeof s=="number")&&(t.width=s),(typeof l=="string"||typeof l=="number")&&(t.height=l),(typeof d=="string"||typeof d=="number")&&(t.borderRadius=d),h&&(t.borderRadius="50%"),typeof n<"u"&&(t["--base-color"]=n),typeof r<"u"&&(t["--highlight-color"]=r),t}function k({count:n=1,wrapper:r,className:s,containerClassName:l,containerTestId:d,circle:h=!1,style:f,...m}){var i,t,u;const N=c.useContext(U),E={...m};for(const[o,a]of Object.entries(m))typeof a>"u"&&delete E[o];const w={...N,...E,circle:h},$={...f,...H(w)};let x="react-loading-skeleton";s&&(x+=` ${s}`);const O=(i=w.inline)!==null&&i!==void 0?i:!1,_=[],C=Math.ceil(n);for(let o=0;o<C;o++){let a=$;if(C>n&&o===C-1){const S=(t=a.width)!==null&&t!==void 0?t:"100%",L=n%1,j=typeof S=="number"?S*L:`calc(${S} * ${L})`;a={...a,width:j}}const B=c.createElement("span",{className:x,style:a,key:o},"â€Œ");O?_.push(B):_.push(c.createElement(c.Fragment,{key:o},B,c.createElement("br",null)))}return c.createElement("span",{className:l,"data-testid":d,"aria-live":"polite","aria-busy":(u=w.enableAnimation)!==null&&u!==void 0?u:F},r?_.map((o,a)=>c.createElement(r,{key:a},o)):_)}const I=n=>b(A,{children:[e("div",{className:"banner",children:e(y,{children:e(g,{children:e(v,{lg:"12",children:e(k,{style:{height:400,borderRadius:10,marginBottom:50}})})})})}),e("div",{className:"wool_list",children:e(y,{children:e(g,{children:[...Array(5)].map((r,s)=>b(v,{lg:"4",className:"mb-3",children:[e(k,{style:{height:200,borderRadius:20,marginBottom:20}}),e(k,{count:2})]},s))})})})]});function Q(){const[n,r]=p.useState([]),[s,l]=p.useState(!1),[d,h]=p.useState(""),[f,m]=p.useState("");p.useEffect(()=>{(async()=>{l(!0);try{const u=await R.productAll(),N=await R.ProductsBanner();h(N.data.data),r(u.data.data),l(!1)}catch(u){console.log(u)}})()},[]);const i=n.filter(t=>t.name.toLowerCase().includes(f.toLowerCase()));return e(A,{children:s?e(I,{}):b(T,{children:[e("div",{className:"banner",children:e(y,{children:e(g,{children:e(v,{lg:"12",children:e("img",{src:W.ENDPOINT_URL+"api/"+d,className:"img-fluid"})})})})}),e("div",{className:"search_form",children:e(y,{children:e(g,{children:e(v,{lg:"12",children:e(P,{children:e(P.Control,{name:"find",placeholder:"Find your Knitty Buddy",value:f,onChange:t=>m(t.target.value)})})})})})}),e("div",{className:"wool_list",children:e(y,{children:e(g,{children:i&&i.map(t=>e(v,{lg:"4",children:e(G,{data:t})},t._id))})})})]})})}export{Q as default};
